language: python
python:
    - "2.6"
    - "2.7"
install:
    - pip install -q flask
    - pip install -q nose
    - pip install -q coverage
    - pip install -q mock
    - pip install -q web.py
    - pip install -q pep8
before_script:
    - "rm -f .coverage coverage.xml"
    - "pep8 --exclude=migrations --ignore=E501,E225 src"
script:
    - nosetests -s --with-coverage --with-xunit --cover-erase --xunit-file=coverage.xml
    - coverage report
